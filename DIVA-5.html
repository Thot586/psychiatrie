<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DIVA-5 - Entretien Diagnostique pour le TDAH chez l'Adulte</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    :root{
      --primary: #14b8a6; /* Teal-500 */
      --primary-light: #5eead4; /* Teal-300 */
      --primary-dark: #0f766e; /* Teal-700 */
      --primary-weak: #ccfbf1; /* Teal-100 */

      --text: #1e293b; /* Slate-800 */
      --muted: #64748b; /* Slate-500 */
      
      --bg: #f8fafc; /* Slate-50 */
      --paper: #ffffff;
      --border: #e2e8f0; /* Slate-200 */
      
      --danger: #ef4444; /* Red-500 */
      --danger-weak: #fee2e2; /* Red-100 */

      --warning-bg: #fefce8; /* Yellow-50 */
      --warning-border: #fde047; /* Yellow-300 */
      --warning-text: #854d0e; /* Amber-800 */
      font-size: 16px;
    }
    *{box-sizing: border-box; margin: 0; padding: 0}
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: var(--bg); color: var(--text); line-height: 1.6; padding: 1rem;
    }
    .container {
      max-width: 60rem; margin: 1rem auto; background: var(--paper);
      border: 1px solid var(--border); border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.07); overflow: hidden;
    }
    header {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: #fff; padding: 1.5rem 2rem;
    }
    header h1 {
      font-size: clamp(1.4rem, 4vw, 1.85rem); font-weight: 700; line-height: 1.3;
    }
    .section { padding: 1.5rem 2rem; border-top: 1px solid var(--border); }
    .instructions { background: var(--primary-weak); color: var(--primary-dark); }
    
    .criterion-group {
        border: 1px solid var(--border);
        border-radius: 12px;
        margin-top: 2rem;
        overflow: hidden;
    }
    .criterion-header {
        background-color: #f8fafc;
        padding: 1rem 1.5rem;
        border-bottom: 1px solid var(--border);
    }
    .criterion-header h3 {
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--primary-dark);
    }
    .criterion-header p {
        font-style: italic;
        color: var(--muted);
        font-size: 0.95rem;
    }

    .criterion-body {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0;
    }
    .period-block { padding: 1.5rem; }
    .period-block:first-child { border-right: 1px solid var(--border); }
    .period-block h4 { font-size: 1.1rem; font-weight: 600; margin-bottom: 1rem; }

    .examples { font-size: 0.9rem; color: var(--muted); margin-bottom: 1.5rem; }
    .examples strong { color: var(--text); }
    .examples ul { padding-left: 1.25rem; }

    .clinician-input { margin-top: 1rem; }
    .clinician-input label, .radio-group label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-weight: 600;
        cursor: pointer;
    }
     .impairment-item label {
        font-weight: 400;
        font-size: 0.95rem;
    }
    .clinician-input input[type="checkbox"], .radio-group input[type="radio"] {
        width: 1.15rem;
        height: 1.15rem;
        accent-color: var(--primary);
    }
    .clinician-input textarea {
        width: 100%;
        margin-top: 0.75rem;
        padding: 0.5rem 0.75rem;
        border-radius: 8px;
        border: 1px solid var(--border);
        font-family: inherit;
        font-size: 0.95rem;
        min-height: 80px;
        resize: vertical;
    }
    .clinician-input textarea:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 2px var(--primary-weak);
    }
    .radio-group { display: flex; gap: 1rem; margin-top: 0.5rem; }
    
    .impairment-domain h5 {
        font-size: 1rem;
        font-weight: 700;
        color: var(--text);
        margin-top: 1.5rem;
        margin-bottom: 0.75rem;
        padding-bottom: 0.25rem;
        border-bottom: 1px solid var(--border);
    }
    .impairment-domain:first-child h5 { margin-top: 0; }
    .impairment-summary {
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 2px solid var(--primary-weak);
    }
    .impairment-summary p { font-weight: 600; margin-bottom: 0.5rem;}


    .actions { display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; justify-content: center; margin-top: 2rem; }
    button.primary {
      background: linear-gradient(135deg, var(--primary-dark), var(--primary)); color: #fff; border: none;
      padding: .9rem 1.75rem; border-radius: 12px; font-weight: 700; font-size: 1.1rem;
      cursor: pointer; transition: transform .2s, box-shadow .2s;
    }
    button.primary:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(13, 148, 136, .25); }
    
    #summary { background: var(--bg); }
    .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
    }
    .summary-card {
        background: var(--paper);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 1.5rem;
    }
    .summary-card h3 { font-size: 1.2rem; font-weight: 700; margin-bottom: 1rem; color: var(--primary-dark); }
    .summary-count { font-size: 2.5rem; font-weight: 800; }
    .summary-card .result {
        padding: 0.5rem;
        border-radius: 8px;
        font-weight: 600;
        text-align: center;
        margin-top: 0.5rem;
    }
    .result.valid { background: var(--primary-weak); color: var(--primary-dark); }
    .result.invalid { background: var(--danger-weak); color: var(--danger); }
    
    .footer-warning {
      background: var(--warning-bg); border: 1px solid var(--warning-border);
      color: var(--warning-text); padding: 1rem 1.25rem; border-radius: 12px;
      margin-bottom: 1.5rem; display: flex; align-items: flex-start; gap: 0.75rem;
    }

    footer { padding: 1.5rem 2rem; color: var(--muted); font-size: .9rem; background: #f1f3f5; border-top: 1px solid var(--border); }
    
    @media (max-width: 768px) {
        .criterion-body { grid-template-columns: 1fr; }
        .period-block:first-child { border-right: none; border-bottom: 1px solid var(--border); }
    }
    @media (max-width: 640px) {
      body { padding: .5rem; }
      .section, header, footer { padding: 1.25rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>DIVA-5 : Entretien Diagnostique pour le TDAH chez l'Adulte</h1>
      <p>Basé sur les critères du DSM-5</p>
    </header>

    <div class="section instructions">
        <div class="footer-warning" style="background: var(--danger-weak); border-color: var(--danger); color: #991b1b;">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="flex-shrink:0; margin-top: .1rem;"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
            <div>
              <p><strong>Usage Professionnel Uniquement :</strong> Cet outil est une adaptation interactive de l'entretien semi-dirigé DIVA-5. Il est destiné à être utilisé par des <strong>professionnels de santé formés</strong> au diagnostic du TDAH. Il ne doit <strong>jamais</strong> être utilisé comme un auto-questionnaire par les patients.</p>
            </div>
        </div>
      <p><strong>Instructions pour le clinicien :</strong> L'entretien évalue les 18 critères du DSM-5. Pour chaque critère, investiguez d'abord la présence du symptôme à l'<strong>âge adulte (6 derniers mois)</strong>. Si le symptôme est présent, explorez sa présence durant l'<strong>enfance (entre 5 et 12 ans)</strong>. Un symptôme ne compte pour le diagnostic que s'il a débuté dans l'enfance. Demandez systématiquement des <strong>exemples concrets</strong> pour chaque symptôme. L'implication d'un tiers (parent, conjoint) est fortement recommandée, notamment pour la partie sur l'enfance.</p>
    </div>

    <form id="diva-form" class="section">
      <h2 style="font-size: 1.75rem; font-weight: 800; text-align: center; margin-bottom: 1rem;">Partie 1 : Symptômes de déficit attentionnel (critère A1)</h2>
      <div id="inattention-criteria"></div>

      <h2 style="font-size: 1.75rem; font-weight: 800; text-align: center; margin-top: 3rem; margin-bottom: 1rem;">Partie 2 : Symptômes d'hyperactivité-impulsivité (critère A2)</h2>
      <div id="hyperactivity-criteria"></div>
      
      <h2 style="font-size: 1.75rem; font-weight: 800; text-align: center; margin-top: 3rem; margin-bottom: 1rem;">Partie 3 : Altération du fonctionnement due aux symptômes (critères B, C & D)</h2>
      
      <!-- Critère B -->
      <div class="criterion-group">
        <div class="criterion-header">
            <h3>Critère B : Antériorité des symptômes</h3>
        </div>
        <div class="period-block" style="border: none;">
            <p style="font-weight: 600;">Avez-vous toujours eu ces symptômes de déficit attentionnel et/ou d'hyperactivité/impulsivité ?</p>
             <div class="radio-group">
                 <label><input type="radio" name="criterionB" value="oui"> Oui (quelques symptômes étaient présents avant l'âge de 12 ans)</label>
                 <label><input type="radio" name="criterionB" value="non"> Non</label>
             </div>
             <div class="clinician-input" style="margin-top: 1.5rem;">
                <label for="onset-age" style="font-weight: 400; align-items: baseline;">Si vous avez répondu « Non », les symptômes ont débuté à l'âge de :
                    <input type="number" id="onset-age" name="onset-age" placeholder="âge" style="width: 80px; padding: 0.5rem; border: 1px solid var(--border); border-radius: 8px; margin-left: 0.5rem;">
                </label>
            </div>
            <div class="clinician-input">
                <textarea placeholder="Synthèse des preuves de l'antériorité des symptômes..."></textarea>
            </div>
        </div>
      </div>
      
      <!-- Critère C & D -->
      <div class="criterion-group">
        <div class="criterion-header">
            <h3>Critères C & D : Retentissement fonctionnel</h3>
            <p>Dans quels domaines les symptômes vous causent-ils ou vous ont-ils causé des problèmes ? Le retentissement est-il présent dans au moins deux domaines ?</p>
        </div>
        <div class="criterion-body">
            <div class="period-block">
                <h4>Âge Adulte</h4>
                <div class="impairment-domain">
                    <h5>Travail / Éducation</h5>
                    <div class="impairment-item"><label><input type="checkbox"> N'a pas atteint le niveau d'étude pour travailler</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Travaille en deçà du niveau d'études</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Rapidement fatigué d'un lieu de travail</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Succession de plusieurs emplois à court terme</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Difficulté avec le travail administratif/la planification</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> N'obtient pas de promotions</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Sous-performant au travail</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> A quitté un emploi après une dispute ou a été renvoyé</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Arrêts de travail ou invalidité liés aux symptômes</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Retentissement atténué par un niveau intellectuel élevé</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Retentissement atténué par la structure externe</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
                 <div class="impairment-domain">
                    <h5>Relations et/ou Famille</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Rapidement fatigué par les relations</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Débute/termine impulsivement les relations</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Relations conjugales inégales du fait des symptômes</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Problèmes relationnels, nombreuses disputes, manque d'intimité</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Divorce du fait des symptômes</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Problèmes sexuels du fait des symptômes</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Problèmes avec l'éducation à cause des symptômes</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Difficultés ménagères et/ou administratives</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Problèmes financiers ou jeux d'argent</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> N'ose pas commencer une relation</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
                 <div class="impairment-domain">
                    <h5>Contacts Sociaux</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Rapidement fatigué par les contacts sociaux</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Difficulté à maintenir des contacts sociaux</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Conflits résultant de problèmes de communication</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Difficulté à initier des contacts sociaux</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Faible affirmation de soi du fait d'expériences négatives</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Inattention (par exemple, oubli d'envoyer une carte, d'être empathique, d'appeler au téléphone, etc.)</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
                <div class="impairment-domain">
                    <h5>Temps libre / Hobby</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Incapable de se relaxer complètement pendant le temps libre</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Obligé de pratiquer beaucoup de sport pour se relaxer</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Blessures liées à une pratique sportive excessive</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Incapable de terminer un livre ou de regarder un film jusqu'à la fin</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Fatigué parce qu'affairé en permanence</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Rapidement lassé par les hobbies</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Accidents ou suspension de permis de conduire suite à une conduite imprudente</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Recherche de sensations et/ou prise trop fréquente de risques</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Problèmes avec la police/la justice</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Hyperphagie/Binge eating</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
                 <div class="impairment-domain">
                    <h5>Confiance en soi / Image de soi</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Doute de lui-même du fait des remarques négatives des autres</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Image de soi négative du fait des échecs du passé</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Peur de l'échec au moment de commencer de nouvelles choses</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Réaction excessive aux critiques</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Perfectionnisme</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Affecté par les symptômes du TDAH</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
            </div>
            <div class="period-block">
                <h4>Enfance</h4>
                 <div class="impairment-domain">
                    <h5>Éducation</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Niveau d'études inférieur à celui prédit par le QI</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Redoublements à cause de problèmes de concentration</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Études inachevées/Renvoi d'un établissement scolaire</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Plus d'années que nécessaire pour terminer les études</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> A obtenu un niveau d'étude conforme au QI mais avec beaucoup d'efforts</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Difficulté à faire les devoirs</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Éducation spéciale à cause des symptômes</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Commentaires des enseignants sur le comportement ou la concentration</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Retentissement atténué par un niveau intellectuel élevé</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Retentissement atténué par la structure externe</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
                 <div class="impairment-domain">
                    <h5>Famille</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Disputes fréquentes avec frères et sœurs</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Punitions ou corrections fréquentes</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Peu de contacts avec la famille à cause des conflits</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> A nécessité le soutien des parents pour une période plus longue que la normale</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
                 <div class="impairment-domain">
                    <h5>Contacts Sociaux</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Difficulté à maintenir des contacts sociaux</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Conflits du fait de problèmes de communication</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Difficulté à initier des contacts sociaux</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Faible affirmation de soi du fait d'expériences négatives</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Peu d'amis</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Taquiné par les autres</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Exclu du groupe ou n'est pas invité à participer aux activités du groupe</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Joue les petits durs</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
                 <div class="impairment-domain">
                    <h5>Temps libre / Hobby</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Incapable de se relaxer vraiment pendant le temps libre</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Obligé de pratiquer beaucoup de sport pour se relaxer</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Blessures liées à une pratique sportive excessive</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Incapable de terminer un livre ou de regarder un film jusqu'à la fin</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Fatigué parce qu'affairé en permanence</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Rapidement lassé par les hobbies</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Recherche de sensations et/ou prise trop fréquente de risques</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Accidents plus fréquents</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Problèmes avec la police/la justice</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
                 <div class="impairment-domain">
                    <h5>Confiance en soi / Image de soi</h5>
                    <div class="impairment-item"><label><input type="checkbox"> Doute de lui-même du fait des remarques négatives des autres</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Image de soi négative du fait des échecs du passé</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Peur de l'échec au moment de commencer de nouvelles choses</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Réaction excessive aux critiques</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Perfectionnisme</label></div>
                    <div class="impairment-item"><label><input type="checkbox"> Autre</label></div>
                </div>
            </div>
        </div>
        <div class="period-block impairment-summary" style="grid-column: 1 / -1; border-top: 1px solid var(--border);">
             <p>Preuve d'une altération du fonctionnement dans deux domaines au moins ?</p>
             <div style="display: flex; flex-wrap: wrap; gap: 1rem 4rem;">
                 <div>
                     <strong>Âge adulte:</strong>
                     <div class="radio-group">
                         <label><input type="radio" name="impairmentAdult" value="oui"> Oui</label>
                         <label><input type="radio" name="impairmentAdult" value="non"> Non</label>
                     </div>
                 </div>
                 <div>
                     <strong>Enfance:</strong>
                      <div class="radio-group">
                         <label><input type="radio" name="impairmentChildhood" value="oui"> Oui</label>
                         <label><input type="radio" name="impairmentChildhood" value="non"> Non</label>
                     </div>
                 </div>
             </div>
             <div class="clinician-input">
                  <textarea placeholder="Détails supplémentaires sur le retentissement et les contextes concernés..."></textarea>
             </div>
        </div>
      </div>

      <div class="actions">
        <button type="button" id="calculate-summary-btn" class="primary">Générer le résumé diagnostique</button>
      </div>
    </form>
    
    <div id="summary" class="section" style="display: none;">
      <h2 style="font-size: 1.75rem; font-weight: 800; text-align: center; margin-bottom: 2rem;">Résumé Diagnostique (DSM-5)</h2>
      <div class="summary-grid">
        <div class="summary-card">
            <h3>A1. Inattention</h3>
            <div>Score Adulte: <span class="summary-count" id="inattention-adult-score">0</span>/9</div>
            <div id="inattention-adult-result" class="result invalid">Critère adulte non rempli (≥5 requis)</div>
        </div>
        <div class="summary-card">
            <h3>A2. Hyperactivité/Impulsivité</h3>
            <div>Score Adulte: <span class="summary-count" id="hyperactivity-adult-score">0</span>/9</div>
            <div id="hyperactivity-adult-result" class="result invalid">Critère adulte non rempli (≥5 requis)</div>
        </div>
         <div class="summary-card">
            <h3>B. Antériorité des symptômes</h3>
            <p class="small">Plusieurs symptômes étaient-ils présents avant 12 ans ?</p>
            <div id="onset-result" class="result invalid">Non évalué</div>
        </div>
        <div class="summary-card">
            <h3>C & D. Retentissement / Persistance</h3>
            <p class="small">Les symptômes interfèrent-ils dans au moins deux contextes ?</p>
            <div id="impairment-result" class="result invalid">Non évalué</div>
        </div>
        <div class="summary-card">
            <h3>E. Diagnostic différentiel</h3>
            <p class="small">Les symptômes ne sont-ils pas mieux expliqués par un autre trouble mental ?</p>
            <div id="diff-result" class="result invalid">À vérifier cliniquement</div>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer-warning" style="display:flex; align-items:flex-start; gap:0.75rem; color:#334155; font-size:0.875rem; line-height:1.4;">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="flex-shrink:0; margin-top:0.2rem;">
          <circle cx="12" cy="12" r="10"></circle>
          <path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"></path>
          <path d="M12 12v1"></path>
          <path d="M12 8h.01"></path>
        </svg>
        <div>
          <p><strong>Propriété intellectuelle et licence :</strong>  
          L’Entretien Diagnostique pour le TDAH chez l’Adulte (DIVA-5) a été développé par J.J.S. Kooij, MD, PhD, et M.H. Francken, MSc.  
          <strong>© DIVA Foundation, La Haye, Pays-Bas, 2019. Tous droits réservés.</strong></p>

          <p style="margin-top:0.5rem;">Cet outil est destiné à un usage clinique et de recherche. Toute reproduction doit mentionner la source et conserver le texte original.  
          L’utilisation commerciale ou la diffusion intégrale publique nécessitent une autorisation/licence auprès de la DIVA Foundation.</p>
        </div>
      </div>
    </footer>

  </div>

<script>
const criteria = {
  inattention: [
    { id: 'A1a', text: 'Ne parvient pas à prêter attention aux détails ou fait des fautes d\'étourderie.', examples: ['Fait des fautes d’inattention au travail', 'Doit relire les choses plusieurs fois', 'Néglige ou rate des détails', 'Travail imprécis'] },
    { id: 'A1b', text: 'A souvent du mal à soutenir son attention au travail ou dans les jeux.', examples: ['Difficulté à rester concentré pendant les cours/réunions', 'Se laisse facilement distraire par ses propres pensées', 'Doit faire des pauses fréquentes'] },
    { id: 'A1c', text: 'Semble souvent ne pas écouter quand on lui parle personnellement.', examples: ['L\'esprit semble ailleurs', 'Passe à côté de consignes', 'Les autres se plaignent qu\'il/elle n\'écoute pas'] },
    { id: 'A1d', text: 'Ne se conforme pas aux consignes et ne parvient pas à mener à terme ses devoirs ou ses obligations.', examples: ['Commence les tâches mais les termine rarement', 'Se perd dans les détails', 'Facilement découragé(e)'] },
    { id: 'A1e', text: 'A souvent du mal à organiser ses travaux et ses activités.', examples: ['Bureau/maison en désordre', 'Mauvaise gestion du temps', 'Difficulté à planifier', 'Respecte difficilement les délais'] },
    { id: 'A1f', text: 'Évite souvent, a en aversion ou fait à contrecœur les tâches qui nécessitent un effort mental soutenu.', examples: ['Procrastine sur les tâches administratives, les rapports', 'Évite de remplir des formulaires', 'Préfère les tâches courtes et actives'] },
    { id: 'A1g', text: 'Perd souvent les objets nécessaires à son travail ou à ses activités.', examples: ['Clés, lunettes, téléphone, documents', 'Passe beaucoup de temps à chercher ses affaires'] },
    { id: 'A1h', text: 'Est souvent facilement distrait par des stimuli externes.', examples: ['Facilement distrait(e) par les bruits, l\'activité autour', 'Difficile de se reconcentrer après une interruption'] },
    { id: 'A1i', text: 'A des oublis fréquents dans la vie quotidienne.', examples: ['Oublie les rendez-vous, les promesses', 'Doit prendre beaucoup de notes ou mettre des alarmes', 'Oublie de payer les factures'] },
  ],
  hyperactivity: [
    { id: 'A2a', text: 'Remue souvent les mains ou les pieds ou se tortille sur son siège.', examples: ['Agitation des jambes', 'Joue avec un stylo ou ses cheveux', 'Incapable de rester assis(e) tranquillement'] },
    { id: 'A2b', text: 'Se lève souvent en situation où il est supposé rester assis.', examples: ['Se lève pendant les réunions', 'Difficulté à rester assis(e) au restaurant ou au cinéma'] },
    { id: 'A2c', text: 'Court ou grimpe partout, en situation inappropriée (chez l\'adulte: sentiment d\'impatience motrice).', examples: ['Sentiment constant d\'être "sur la brèche"', 'Incapable de se détendre', 'Préfère être toujours en mouvement'] },
    { id: 'A2d', text: 'A souvent du mal à se tenir tranquille dans les jeux ou les activités de loisir.', examples: ['A du mal avec les activités calmes comme la lecture', 'Se sent agité(e) pendant les vacances'] },
    { id: 'A2e', text: 'Est souvent "sur la brèche" ou agit comme s\'il était "monté sur ressorts".', examples: ['A un "moteur intérieur"', 'Fait plusieurs choses en même temps', 'Les autres le/la trouvent infatigable'] },
    { id: 'A2f', text: 'Parle souvent trop.', examples: ['Monopolise la conversation', 'N\'a pas de "filtre"', 'Les autres lui demandent de se taire'] },
    { id: 'A2g', text: 'Répond à une question qui n\'est pas encore entièrement posée.', examples: ['Termine les phrases des autres', 'Donne la réponse avant la fin de la question', 'Devine ce que l\'autre va dire'] },
    { id: 'A2h', text: 'A souvent du mal à attendre son tour.', examples: ['Impatient(e) dans les files d\'attente, dans la circulation', 'A du mal avec le tour de parole dans les groupes'] },
    { id: 'A2i', text: 'Interrompt souvent les autres ou impose sa présence.', examples: ['Interrompt les conversations ou les jeux', 'Commence à utiliser les affaires des autres sans demander', 'Se mêle de ce qui ne le/la regarde pas'] },
  ]
};

function createCriterionHTML(criterion, type, index) {
  const exampleList = criterion.examples.map(ex => `<li>${ex}</li>`).join('');
  return `
    <div class="criterion-group">
      <div class="criterion-header">
        <h3>${type === 'inattention' ? 'A1' : 'A2'}.${String.fromCharCode(96 + index + 1)}</h3>
        <p>${criterion.text}</p>
      </div>
      <div class="criterion-body">
        <div class="period-block">
          <h4>Âge Adulte (6 derniers mois)</h4>
          <div class="examples">
            <strong>Exemples :</strong>
            <ul>${exampleList}</ul>
          </div>
          <div class="clinician-input">
            <label>
              <input type="checkbox" class="symptom-checkbox" data-period="adult" data-type="${type}">
              Symptôme présent
            </label>
            <textarea placeholder="Noter des exemples concrets fournis par le patient..."></textarea>
          </div>
        </div>
        <div class="period-block">
          <h4>Enfance (5-12 ans)</h4>
          <div class="examples">
            <strong>Le clinicien demande :</strong> "Et quand vous étiez enfant, est-ce que cela se produisait aussi ? Pouvez-vous me donner un exemple de cette période ?"
          </div>
          <div class="clinician-input">
            <label>
              <input type="checkbox" class="symptom-checkbox" data-period="childhood" data-type="${type}">
              Symptôme présent
            </label>
            <textarea placeholder="Noter des exemples ou informations du tiers (parent)..."></textarea>
          </div>
        </div>
      </div>
    </div>
  `;
}

const inattentionContainer = document.getElementById('inattention-criteria');
criteria.inattention.forEach((crit, i) => {
  inattentionContainer.innerHTML += createCriterionHTML(crit, 'inattention', i);
});

const hyperactivityContainer = document.getElementById('hyperactivity-criteria');
criteria.hyperactivity.forEach((crit, i) => {
  hyperactivityContainer.innerHTML += createCriterionHTML(crit, 'hyperactivity', i);
});


const calculateBtn = document.getElementById('calculate-summary-btn');
const summaryDiv = document.getElementById('summary');

calculateBtn.addEventListener('click', () => {
    // --- Critère A ---
    const inattentionAdultCheckboxes = document.querySelectorAll('.symptom-checkbox[data-type="inattention"][data-period="adult"]:checked');
    const hyperactivityAdultCheckboxes = document.querySelectorAll('.symptom-checkbox[data-type="hyperactivity"][data-period="adult"]:checked');
    const inattentionAdultScore = inattentionAdultCheckboxes.length;
    const hyperactivityAdultScore = hyperactivityAdultCheckboxes.length;
    document.getElementById('inattention-adult-score').textContent = inattentionAdultScore;
    document.getElementById('hyperactivity-adult-score').textContent = hyperactivityAdultScore;
    const inattentionAdultResult = document.getElementById('inattention-adult-result');
    if (inattentionAdultScore >= 5) {
        inattentionAdultResult.textContent = 'Critère adulte rempli (≥5)';
        inattentionAdultResult.classList.replace('invalid', 'valid');
    } else {
        inattentionAdultResult.textContent = `Critère adulte non rempli (${inattentionAdultScore} < 5)`;
        inattentionAdultResult.classList.replace('valid', 'invalid');
    }
    const hyperactivityAdultResult = document.getElementById('hyperactivity-adult-result');
    if (hyperactivityAdultScore >= 5) {
        hyperactivityAdultResult.textContent = 'Critère adulte rempli (≥5)';
        hyperactivityAdultResult.classList.replace('invalid', 'valid');
    } else {
        hyperactivityAdultResult.textContent = `Critère adulte non rempli (${hyperactivityAdultScore} < 5)`;
        hyperactivityAdultResult.classList.replace('valid', 'invalid');
    }

    // --- Critère B ---
    const criterionBchoice = document.querySelector('input[name="criterionB"]:checked');
    const onsetResult = document.getElementById('onset-result');
    if (criterionBchoice) {
        if(criterionBchoice.value === 'oui') {
            onsetResult.textContent = 'Oui';
            onsetResult.classList.replace('invalid', 'valid');
        } else {
            onsetResult.textContent = 'Non';
            onsetResult.classList.replace('valid', 'invalid');
        }
    } else {
        onsetResult.textContent = 'Non évalué';
        onsetResult.classList.replace('valid', 'invalid');
    }
    
    // --- Critères C & D ---
    const impairmentChoiceAdult = document.querySelector('input[name="impairmentAdult"]:checked');
    const impairmentChoiceChildhood = document.querySelector('input[name="impairmentChildhood"]:checked');
    const impairmentResult = document.getElementById('impairment-result');
    // For diagnosis, impairment must be present in both periods in at least 2 domains.
    if (impairmentChoiceAdult && impairmentChoiceChildhood && impairmentChoiceAdult.value === 'oui' && impairmentChoiceChildhood.value === 'oui') {
        impairmentResult.textContent = 'Oui';
        impairmentResult.classList.replace('invalid', 'valid');
    } else if (impairmentChoiceAdult || impairmentChoiceChildhood) {
         impairmentResult.textContent = 'Non (doit être présent aux 2 périodes)';
         impairmentResult.classList.replace('valid', 'invalid');
    } else {
        impairmentResult.textContent = 'Non évalué';
        impairmentResult.classList.replace('valid', 'invalid');
    }


    summaryDiv.style.display = 'block';
    summaryDiv.scrollIntoView({ behavior: 'smooth' });
});

</script>
</body>
</html>
